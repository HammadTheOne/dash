# dash-html-components

Vanilla HTML components for Dash

## Dash

Go to this link to learn about [Dash][].

## Getting started

```sh
# Install dependencies
$ npm install

# Watch source for changes and build to `lib/`
$ npm start
```

## Generating HTML Components

The components in `src/components`, as well as the export index in
`src/index.js` are programmatically generated from element definitions in
`scripts/`. To regenerate:

The list of attributes is regenerated by scraping the
[MDN HTML attribute reference][].

```sh
cd scripts
node extract-attributes.js
node generate-components.js data/block-elements.txt
node generate-components.js data/inline-elements.txt
node generate-index.js
```

## Development

We don't yet have a dev server with demo capabilities. The best way to test
your components is by linking into `dash2` and testing them from there.

1. Prepare module by linking and watching for changes

        # Symlink module
        $ npm link

        # Transpile components to `lib/` and watch for changes
        $ npm start

2. Link module into `dash2` project

        # In the `dash2/renderer` project directory:
        $ npm link [YOUR-COMPONENT-SUITE-NAME]

Now you should be able to restart the webpack process (in `dash2/renderer`:
`ctrl-c`, `npm start`), after which webpack will automatically pick up new
changes to the component suite.

## Installing python package locally

You don't need publishing access to test the module locally.

```sh
# Install in `site-packages` on your machine
$ python setup.py install
```

## Publishing

For now, two different workflows are necessary for publishing to NPM and PyPi,
respectively. TODO:
[#5](https://github.com/plotly/dash-components-archetype/issues/5) will roll up
publishing steps into one workflow.

Ask @chriddyp to be added to the [NPM package authors][] or to [PyPi][].

### Publishing to NPM

```sh
# Bump the package version
$ npm version major|minor|patch

# Push branch and tags to repo
$ git push --follow-tags

# Publish to NPM (will run tests as a pre-publish step)
$ npm publish
```

### Publishing to PyPi

```sh
# Bump the package version
$ vi setup.py

# Commit to github
$ git add setup.py
$ git commit -m "Bump pypi package version to vx.x.x"

# Publish to PyPi
$ npm run publish-pypi
```

## Builder / Archetype

We use [Builder][] to centrally manage build configuration, dependencies, and
scripts. See the [dash-components-archetype][] repo for more information.


[Builder]: https://github.com/FormidableLabs/builder
[Dash]: https://github.com/plotly/dash2
[dash-components-archetype]: https://github.com/plotly/dash-components-archetype
[MDN HTML attribute reference]: https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes
[NPM package authors]: https://www.npmjs.com/package/dash-html-components/access
[PyPi]: https://pypi.python.org/pypi

